# üöÄ PRODUCTION DEPLOYMENT GUIDE\n\n## üìã PRE-DEPLOYMENT CHECKLIST\n\n### 1. **Security Configuration** ‚ö†Ô∏è CRITICAL\n- [ ] Read [SECURITY.md](./SECURITY.md) completely\n- [ ] Generate new JWT secrets (256-bit)\n- [ ] Setup production MongoDB with authentication\n- [ ] Configure Gmail App Password for production email\n- [ ] Remove all test/development credentials\n- [ ] Enable MongoDB IP whitelist\n\n### 2. **Environment Setup**\n- [ ] Copy `.env.production.example` to `.env.production`\n- [ ] Fill in all production values\n- [ ] Test email delivery in production environment\n- [ ] Verify database connectivity\n\n### 3. **Code Preparation**\n- [ ] Run `npm run build` to test production build\n- [ ] Fix any build warnings or errors\n- [ ] Test all authentication flows\n- [ ] Verify email templates render correctly\n\n## üåê DEPLOYMENT PLATFORMS\n\n### Vercel (Recommended)\n```bash\n# Install Vercel CLI\nnpm i -g vercel\n\n# Deploy\nvercel --prod\n\n# Set environment variables in Vercel dashboard\n```\n\n**Environment Variables in Vercel:**\n1. Go to Project Settings ‚Üí Environment Variables\n2. Add all variables from `.env.production.example`\n3. Set environment to \"Production\"\n\n### Railway\n```bash\n# Install Railway CLI\nnpm install -g @railway/cli\n\n# Login and deploy\nrailway login\nrailway link\nrailway up\n```\n\n### Netlify\n```bash\n# Build command: npm run build\n# Publish directory: .next\n# Add environment variables in Netlify dashboard\n```\n\n## üóÑÔ∏è DATABASE SETUP\n\n### MongoDB Atlas (Recommended)\n1. **Create Production Cluster**\n   - Choose M2 or higher for production\n   - Enable backup\n   - Configure IP whitelist\n\n2. **Security Configuration**\n   ```javascript\n   // Connection string format\n   mongodb+srv://username:password@cluster.mongodb.net/database?retryWrites=true&w=majority&ssl=true\n   ```\n\n3. **Database Indexes** (Run after deployment)\n   ```javascript\n   // Create indexes for performance\n   db.users.createIndex({ email: 1 }, { unique: true })\n   db.userSettings.createIndex({ userId: 1 }, { unique: true })\n   db.dailyProgress.createIndex({ userId: 1, date: 1 }, { unique: true })\n   ```\n\n## üìß EMAIL CONFIGURATION\n\n### Gmail Setup (Current)\n1. **Enable 2FA** on `neverbreakthechain.anshtank@gmail.com`\n2. **Generate App Password**:\n   - Google Account ‚Üí Security ‚Üí App Passwords\n   - Select \"Mail\" ‚Üí Generate\n3. **Update Environment Variables**:\n   ```env\n   EMAIL_USER=\"neverbreakthechain.anshtank@gmail.com\"\n   EMAIL_PASSWORD=\"your-16-character-app-password\"\n   ```\n\n### Custom Domain (Optional)\n```env\nEMAIL_HOST=\"smtp.yourdomain.com\"\nEMAIL_USER=\"noreply@yourdomain.com\"\nEMAIL_FROM=\"Never Break The Chain <noreply@yourdomain.com>\"\n```\n\n## üîß POST-DEPLOYMENT VERIFICATION\n\n### 1. **Functionality Tests**\n- [ ] User signup with email verification\n- [ ] Login/logout functionality\n- [ ] Password reset flow\n- [ ] Contact form submission\n- [ ] Welcome flow completion\n- [ ] MNZD tracking functionality\n\n### 2. **Security Tests**\n- [ ] Rate limiting works (try multiple failed logins)\n- [ ] JWT tokens are HTTP-only\n- [ ] HTTPS is enforced\n- [ ] Security headers are present\n- [ ] No sensitive data in client-side code\n\n### 3. **Email Tests**\n- [ ] OTP emails deliver to Gmail\n- [ ] OTP emails deliver to Yahoo/Outlook\n- [ ] Contact form emails reach admin\n- [ ] Email templates render correctly\n- [ ] Unsubscribe links work (if applicable)\n\n## üìä MONITORING SETUP\n\n### Error Tracking (Recommended)\n```bash\n# Install Sentry\nnpm install @sentry/nextjs\n\n# Add to next.config.js\nconst { withSentryConfig } = require('@sentry/nextjs');\n```\n\n### Analytics (Optional)\n- Vercel Analytics (built-in)\n- Google Analytics\n- Plausible Analytics\n\n## üö® INCIDENT RESPONSE\n\n### If Issues Occur:\n1. **Check Logs**: Platform-specific logging\n2. **Verify Environment Variables**: Ensure all secrets are set\n3. **Test Database Connection**: MongoDB Atlas metrics\n4. **Check Email Delivery**: Gmail SMTP logs\n5. **Rollback if Needed**: Previous deployment\n\n### Emergency Contacts:\n- **Developer**: anshtank9@gmail.com\n- **Platform Support**: Vercel/Railway/Netlify support\n- **Database**: MongoDB Atlas support\n\n## üìà PERFORMANCE OPTIMIZATION\n\n### After Deployment:\n- [ ] Enable CDN (Cloudflare)\n- [ ] Configure caching headers\n- [ ] Optimize images and assets\n- [ ] Monitor Core Web Vitals\n- [ ] Set up database connection pooling\n\n## üîÑ MAINTENANCE\n\n### Regular Tasks:\n- **Weekly**: Check error logs and performance\n- **Monthly**: Review security logs and update dependencies\n- **Quarterly**: Security audit and penetration testing\n- **Annually**: Rotate secrets and review access controls\n\n---\n\n**üéâ Congratulations! Your app is now production-ready!**\n\nFor ongoing support and updates, refer to the [README.md](./README.md) and [SECURITY.md](./SECURITY.md) files.