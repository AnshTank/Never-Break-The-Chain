{
  "meta": {
    "project": "Never Break The Chain - MNZD Habit Tracker",
    "date": "2026-02-04",
    "prepared_by": "Generated by ChatGPT"
  },
  "product_overview": "Never Break The Chain is a habit tracking platform leveraging the MNZD methodology (Meditation, Nutrition, Zone, Discipline). It enables users to build and sustain daily personal habits through visual progress tracking, AI-powered email notifications using Google Gemini, cross-device synchronization, and gamified milestones.",
  "core_goals": [
    "Provide a scientifically-backed, user-friendly habit tracking system based on MNZD principles",
    "Enable seamless user authentication and security with JWT, OTP, and device management",
    "Deliver personalized AI-generated email notifications to boost habit adherence",
    "Offer interactive visualizations such as GitHub-style heatmaps and calendars to motivate users",
    "Support cross-device usage with device registration and limits to enhance security and convenience"
  ],
  "key_features": [
    "JWT-based authentication system including email verification, OTP, password reset, and secure session management",
    "Cross-device session and device management supporting up to two registered devices per user",
    "MNZD habit progress tracking with interactive calendar views, daily indicators, and streak/milestone celebration",
    "AI-powered notification system integrating Google Gemini AI for personalized reminder emails and milestone alerts",
    "User settings management allowing control over profile details and notification preferences",
    "Analytics dashboard providing visual insights into habit progress and engagement",
    "Focus timer feature with ambient sounds to support user productivity",
    "Contact and feedback forms for users to communicate with support"
  ],
  "user_flow_summary": [
    "User signs up or logs in with secure JWT authentication supporting email verification and OTP",
    "Upon login, user's devices are managed with a limit of two devices; users can view and remove devices",
    "User tracks daily habits across MNZD categories via an interactive calendar and heatmap visualization",
    "AI generates and sends personalized email notifications such as motivational reminders and milestone celebrations",
    "Users can update notification preferences and profile settings through the settings interface",
    "Progress and analytics dashboards provide insights into habit consistency and engagement metrics",
    "Users can use a focus timer for productivity enhancement and submit contact or feedback messages as needed"
  ],
  "validation_criteria": [
    "Authentication endpoints securely authenticate users and handle email verification and password reset",
    "Device management enforces a two-device limit, allowing registration and removal correctly",
    "Progress tracking endpoints accurately store and retrieve MNZD daily habit data",
    "AI notification system sends dynamic, personalized emails based on user progress and adheres to schedule and spam protections",
    "User settings updates correctly persist notification preferences and profile information",
    "Analytics data reflects accurate and timely user habit engagement statistics",
    "Timer sessions are saved and retrieved properly with correct durations and types",
    "Contact and feedback forms successfully post messages and handle validations"
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js 16",
      "React 19",
      "MongoDB",
      "Tailwind CSS",
      "Framer Motion",
      "JWT",
      "Nodemailer",
      "Google Gemini AI"
    ],
    "features": [
      {
        "name": "Authentication System",
        "description": "Complete user authentication with JWT, email verification, OTP, password reset",
        "files": [
          "app/api/auth/login/route.ts",
          "app/api/auth/signup/route.ts",
          "app/api/auth/logout/route.ts",
          "app/api/auth/verify-otp/route.ts",
          "app/api/auth/forgot-password/route.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/auth/login": {
              "post": {
                "summary": "User login",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "email": {
                            "type": "string"
                          },
                          "password": {
                            "type": "string"
                          },
                          "rememberMe": {
                            "type": "boolean"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/api/auth/signup": {
              "post": {
                "summary": "User registration",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "email": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Device Management",
        "description": "Cross-device session management with 2-device limit enforcement",
        "files": [
          "app/api/devices/register/route.ts",
          "app/api/devices/list/route.ts",
          "app/api/devices/remove-for-login/route.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/devices/register": {
              "post": {
                "summary": "Register new device",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "deviceName": {
                            "type": "string"
                          },
                          "deviceType": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Progress Tracking",
        "description": "MNZD habit tracking with calendar view and streak management",
        "files": [
          "app/api/progress/route.ts",
          "app/api/progress-range/route.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/progress": {
              "get": {
                "summary": "Get user progress data"
              },
              "post": {
                "summary": "Update daily progress",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "date": {
                            "type": "string"
                          },
                          "meditation": {
                            "type": "boolean"
                          },
                          "nutrition": {
                            "type": "boolean"
                          },
                          "zone": {
                            "type": "boolean"
                          },
                          "discipline": {
                            "type": "boolean"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "AI Notification System",
        "description": "AI-powered email notifications with Google Gemini integration",
        "files": [
          "app/api/notifications/test/route.ts",
          "app/api/cron/notifications/route.ts",
          "lib/ai-content-service.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/notifications/test": {
              "post": {
                "summary": "Send test notification",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "User Settings",
        "description": "User profile and notification preferences management",
        "files": [
          "app/api/user/settings/route.ts",
          "app/api/user/profile/route.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/user/settings": {
              "get": {
                "summary": "Get user settings"
              },
              "put": {
                "summary": "Update user settings",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "emailNotifications": {
                            "type": "boolean"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Analytics Dashboard",
        "description": "Progress analytics and insights visualization",
        "files": [
          "app/api/analytics/route.ts",
          "components/ActivityInsights.tsx"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/analytics": {
              "get": {
                "summary": "Get user analytics data"
              }
            }
          }
        }
      },
      {
        "name": "Timer System",
        "description": "Focus timer with ambient sounds for productivity",
        "files": [
          "app/timer/page.tsx",
          "app/api/timer-data/route.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/timer-data": {
              "get": {
                "summary": "Get timer session data"
              },
              "post": {
                "summary": "Save timer session",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "duration": {
                            "type": "number"
                          },
                          "type": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Contact & Feedback",
        "description": "User feedback and contact form system",
        "files": [
          "app/api/contact/route.ts",
          "app/api/feedback/route.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/contact": {
              "post": {
                "summary": "Send contact message",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "email": {
                            "type": "string"
                          },
                          "message": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    ]
  }
}
